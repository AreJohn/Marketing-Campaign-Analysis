# Marketing Campaign Analysis USing SQL
# Campaign Performance Analysis Using SQL

## Table of contents
- [Introduction](#Introduction)
- [Project Objectives](#Project-Objectives)
- [Dataset](#Dataset)
- [Tools](#Tools)
- [Business Questions](#Business-Questions)
- [Insights](#Insights)
- [Recommendations](#Recommendations)
  
## Introduction
##### Marketing campaigns generate vast amounts of data, but not all campaigns deliver the same value. To make informed decisions, it‚Äôs essential to analyze performance metrics across different platforms, audiences, and strategies.
##### In this project, I analyzed 200,000+ marketing campaigns across multiple platforms using PostgreSQL to uncover the most cost-effective strategies. From impressions to ROI, I explored metrics that reveal which campaigns work best and why.

## Project Objectives
##### - Understand the campaign dataset structure and key variables
##### - Build a PostgreSQL database and load the data
##### - Use SQL to extract performance metrics and answer critical business questions
##### - Visualize key findings and support decision-making with data-driven insights

## Dataset
üìé [Access the dataset here](https://docs.google.com/spreadsheets/d/1LBGqmX9jT6HuJwHrVZXjIKPxqElkYFPg/edit?usp=drive_link)

## Tools
- **PostgreSQL** ‚Äì Database and SQL querying  
- **Google Sheets** ‚Äì Source data and data visualization.

## Database Setup
##### The database was created in **PostgreSQL**. Here's a breakdown:

<details>
<summary>‚úÖ Table Creation</summary>

<br>

```sql
CREATE TABLE campaigndata (
    campaign_id SERIAL PRIMARY KEY,
    company TEXT,
    campaign_type TEXT,
    target_audience TEXT,
    duration TEXT,
    channel_used TEXT,
    conversion_rate NUMERIC(5,4),
    acquisition_cost MONEY,
    roi NUMERIC(5,2),
    location TEXT,
    date DATE,
    clicks INTEGER,
    impressions INTEGER,
    engagement_score INTEGER,
    customer_segment TEXT
);
```
</details>

<details> <summary> ‚úÖ Data Import </summary> <br>

```sql
\COPY campaigndata(company, campaign_type, target_audience, duration, channel_used,
conversion_rate, acquisition_cost, roi, location, date, clicks, impressions, engagement_score, customer_segment)
FROM '/path/to/campaign_data.csv' DELIMITER ',' CSV HEADER;
```
</details>

###### Here's an overview of the dataset:
![Overview of the dataset](https://github.com/AreJohn/absenteeism/blob/main/assets/images/picture%20of%20the%20newly%20created%20table.png)

The dataset includes the following columns:
###### 1. Company: Name of the company running the campaign.
###### 2. Campaign_Type: The type of campaign (e.g., Email, Display, Social Media).
###### 3. Target_Audience: Demographic targeting for the campaign (e.g., Men 18-24, Women 35-44).
###### 4. Duration: The duration of the campaign (e.g., 30 days, 60 days).
###### 5. Channel_Used: The advertising channel/platform used (e.g., Google Ads, YouTube, Instagram).
###### 6. Conversion_Rate: The conversion rate for the campaign, a decimal number (e.g., 0.04).
###### 7. Acquisition_Cost: The total cost of acquiring customers through the campaign, in monetary units (e.g., $16,174.00).
###### 8. ROI: Return on Investment (ROI) for the campaign, expressed as a numeric value (e.g., 6.29).
###### 9. Location: Geographic location where the campaign was targeted (e.g., Chicago, New York).
###### 10.Date: The date when the campaign started (e.g., 1/1/2021).
###### 11.Clicks: The total number of clicks generated by the campaign.
###### 12.Impressions: The total number of impressions generated by the campaign.
###### 13.Engagement_Score: A numeric score representing engagement for the campaign (e.g., 6, 7, 10).
###### 14.Customer_Segment: The specific customer segment targeted by the campaign (e.g., Health & Wellness, Fashionistas).

## Business Questions
#### Below are the questions guiding my analysis:
1. What Campaign had the highest Impressions?
2. What Campaign had the highest Highest ROI?
3. What are the Top 3 Locations with the highest Total Impressions
4. What Target Audience has the highest Engagement Score on average?
5. What is the Overall Click-Through Rate (CTR) of all campaigns ran?
6. What is the Most Cost-Effective Campaign (Lowest Cost per Conversion) and what Company runs the most Cost-Effective Campaign?
7. How many Campaigns have a CTR Above A Threshold(95%)?
8. What is the Total Conversions by Channel?

## Insights
#### 1. A total of **200,005 campaigns** were analyzed, and the campaign with the **highest impressions reached 10,000** views.

<details> 
<summary>1Ô∏è‚É£ Total Impressions per Campaign</summary> <br>
    
```sql
SELECT campaign_id, impressions
FROM campaigndata
ORDER BY impressions DESC
LIMIT 1;
```
</details>

#### 2. Campaign with the Highest ROI
**Insight:**
**Campaign ID 168** by **NextGen Systems** recorded the highest **ROI at 800%**, meaning every \$1 spent generated \$8 in return.

<details> 
<summary>2Ô∏è‚É£ Campaign with the Highest ROI</summary>  <br>

```sql
SELECT campaign_id, company, roi
FROM campaigndata
ORDER BY roi DESC
LIMIT 1;
```
</details>

#### 3. Top 3 Locations by Impressions
**Insight:**
* ü•á New York ‚Äî 221.35M impressions
* ü•à Miami ‚Äî 221.34M impressions
* ü•â Chicago ‚Äî 219M impressions

<details> <summary>3Ô∏è‚É£ Top 3 Locations by Impressions</summary> <br>
    
```sql
SELECT location, SUM(impressions) AS total_impressions
FROM campaigndata
GROUP BY location
ORDER BY total_impressions DESC
LIMIT 3;
```
</details>

#### 4. Average Engagement Score by Target Audience
**Insight:**
* Men between ages 18‚Äì24 had the **highest engagement score (5.5150)**
* Women between ages 25‚Äì34 and Men 25‚Äì34 followed closely
* Engagement was high across all demographics

<details> <summary>4Ô∏è‚É£ Average Engagement Score by Target Audience</summary>
    
```sql
SELECT target_audience, ROUND(AVG(engagement_score), 4) AS avg_engagement
FROM campaigndata
GROUP BY target_audience
ORDER BY avg_engagement DESC;
```
</details>

#### 5. Overall Click-Through Rate (CTR)
**Insight:**
The overall **CTR was 9.98%**, which significantly exceeds the industry average of 2‚Äì3%.

<details> <summary>5Ô∏è‚É£ Overall Click-Through Rate (CTR)</summary> <br>
    
```sql
SELECT ROUND(SUM(clicks) * 100.0 / NULLIF(SUM(impressions), 0), 2) AS overall_ctr
FROM campaigndata;
```
</details>

#### 6. Most Cost-Effective Campaign
**Insight:**
**Campaign ID 118451** by **Alpha Innovations** had the **lowest cost per conversion: \$34.22**
Alpha Innovations appeared **3 times in the top 6 most efficient campaigns**.

<details> <summary>6Ô∏è‚É£ Most Cost-Effective Campaign</summary>

<br>

```sql
SELECT campaign_id, company,
       ROUND(CAST(acquisition_cost AS NUMERIC) / NULLIF(conversion_rate, 0), 2) AS cost_per_conversion
FROM campaigndata
ORDER BY cost_per_conversion ASC
LIMIT 6;
```
</details>

#### 7. Campaigns with CTR Above a Threshold
**Insight:**
**Campaign ID 123375** had the **highest CTR at 99.2%**
TechCorp and Alpha Innovations both appeared multiple times among the **top 10** campaigns.

<details> <summary>7Ô∏è‚É£ Campaigns with CTR Above 95%</summary> <br>
    
```sql
SELECT campaign_id, company,
       ROUND((clicks * 100.0) / NULLIF(impressions, 0), 2) AS ctr
FROM campaigndata
WHERE (clicks * 100.0 / NULLIF(impressions, 0)) > 95
ORDER BY ctr DESC
LIMIT 10;
```
</details>

#### 8. Rank Channels by Total Conversions
**Insight:**
* üì¨ **Email** had the **highest number of conversions (1.48M)**
* üåê Website and Google Ads followed
* üì± Facebook had the **lowest conversions** among major platforms

<details> <summary>8Ô∏è‚É£ Total Conversions by Channel</summary> <br>
    
```sql
SELECT channel_used,
       ROUND(SUM(clicks * conversion_rate), 2) AS total_conversions
FROM campaigndata
GROUP BY channel_used
ORDER BY total_conversions DESC;
```
</details>

##### [Here's the full `.sql` script](https://github.com/AreJohn/Analysis-of-Marketing-Campaign-Performance-using-SQL/blob/main/assets/docs/sql%20file.sql)

## Final Takeaways

* Channels like **Email, Google Ads, and Websites** should be prioritized
* Focus on **audiences with high engagement** (Men 18‚Äì24, Women 25‚Äì34)
* Use **CTR leaders as benchmarks** for future ad creatives
* Platforms with **high impressions but low conversions** may need targeting adjustments
